<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ…Ø±ÛŒÙ† Ù„ØºØ§Øª ÙØ§Ø±Ø³ÛŒ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f4f4;
            margin: 0;
            direction: rtl; /* Ø¨Ø±Ø§ÛŒ Ø±Ø§Ø³Øª Ø¨Ù‡ Ú†Ù¾ */
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 600px; /* Ø§ÙØ²Ø§ÛŒØ´ Ø¹Ø±Ø¶ Ø¨Ø±Ø§ÛŒ Ù…Ø¹Ø§Ù†ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ± */
            width: 90%;
        }
        h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        p#question-text {
            font-size: 1.5em; /* Ø¨Ø²Ø±Ú¯â€ŒØªØ± Ú©Ø±Ø¯Ù† Ù…ØªÙ† Ø³ÙˆØ§Ù„ */
            font-weight: bold;
            color: #0056b3; /* Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù„Ù…Ù‡ Ø³ÙˆØ§Ù„ */
            margin-bottom: 25px;
            line-height: 1.6;
        }
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            word-wrap: break-word; /* Ø¨Ø±Ø§ÛŒ Ø´Ú©Ø³ØªÙ† Ú©Ù„Ù…Ø§Øª Ø·ÙˆÙ„Ø§Ù†ÛŒ */
            text-align: center;
        }
        button:hover {
            background-color: #0056b3;
        }
        button.correct {
            background-color: #28a745;
        }
        button.incorrect {
            background-color: #dc3545;
        }
        #feedback {
            margin-top: 25px;
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }
        .action-buttons {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap; /* Ø¨Ø±Ø§ÛŒ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨ÙˆØ¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± ØµÙØ­Ù‡ Ú©ÙˆÚ†Ú© */
        }
        .action-buttons button {
            background-color: #6c757d;
        }
        .action-buttons button:hover {
            background-color: #5a6268;
        }
        #restart-button {
            background-color: #ffc107;
            color: #333;
            display: none; /* Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ù¾Ù†Ù‡Ø§Ù† Ø§Ø³Øª */
        }
        #restart-button:hover {
            background-color: #e0a800;
        }
        #learned-button {
            background-color: #17a2b8;
            display: none; /* Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ù¾Ù†Ù‡Ø§Ù† Ø§Ø³Øª */
        }
        #learned-button:hover {
            background-color: #138496;
        }
        #progress-bar {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-top: 20px;
        }
        #progress {
            width: 0%;
            height: 15px;
            background-color: #4CAF50;
            border-radius: 5px;
            text-align: center;
            color: white;
            line-height: 15px;
            font-size: 0.8em;
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>ØªÙ…Ø±ÛŒÙ† Ù„ØºØ§Øª ÙØ§Ø±Ø³ÛŒ</h2>
        <p id="question-text"></p>
        <div class="options-grid" id="options-container">
            </div>
        <div id="feedback"></div>
        <div class="action-buttons">
            <button id="next-button" onclick="loadNewQuestion()">Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ</button>
            <button id="learned-button" onclick="markAsLearned()">Ø§ÛŒÙ† Ù„ØºØª Ø±Ø§ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…</button>
            <button id="restart-button" onclick="restartQuiz()">Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯</button>
        </div>
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
    </div>

    <script>
        const originalData = [
            { word: "Ø¬Ø§ÙÛŒ", meaning: "Ø³ØªÙ…Ú¯Ø±" },
            { word: "Ø­Ø§Ø²Ù…", meaning: "Ù…Ø­ØªØ§Ø·" },
            { word: "Ø´Ú©Ù†", meaning: "Ù¾ÛŒÚ† Ùˆ Ø®Ù…" },
            { word: "Ú¯Ù„Ø¨Ù†", meaning: "Ø¨ÙˆØªÙ‡" },
            { word: "Ù…Ú©Ø§ÛŒØ¯", meaning: "Ù…Ú©Ø±Ù‡Ø§" },
            { word: "Ù…ÛŒØ¹Ø§Ø¯", meaning: "ÙˆØ¹Ø¯Ù‡" },
            { word: "Ù†Ù…Ø·", meaning: "Ø±ÙˆØ´" },
            { word: "ÙˆØ±Ø·Ù‡", meaning: "Ú¯Ø±Ø¯Ø§Ø¨" },
            { word: "ÛŒÙ„Ù‡", meaning: "ØªÚ©ÛŒÙ‡ Ø¯Ø§Ø¯Ù†" },
            { word: "Ø¶Ø§ÛŒØ¹", meaning: "ØªØ¨Ø§Ù‡" },
            { word: "Ø¹Ù…Ù„Ù‡", meaning: "Ú©Ø§Ø±Ú¯Ø±Ø§Ù†" },
            { word: "Ù‚Ø±Ø§Ø¨Øª", meaning: "Ø®ÙˆÛŒØ´Ø§ÙˆÙ†Ø¯ÛŒ" },
            { word: "Ù…Ø³ØªØºÙ†ÛŒ", meaning: "Ø¨ÛŒ Ù†ÛŒØ§Ø²" },
            { word: "Ù…ÙˆÙ„Ø¹", meaning: "Ø¨Ø³ÛŒØ§Ø± Ù…Ø´ØªØ§Ù‚" },
            { word: "Ù†Ù…ÙˆØ¯Ù‡", meaning: "Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯Ù‡" },
            { word: "ØªØ§Ù„Ø§Ø¨", meaning: "Ø§Ø¨Ú¯ÛŒØ±" },
            { word: "Ø­Ø¶ÛŒØ¶", meaning: "Ø¬Ø§ÛŒ Ù¾Ø³Øª" },
            { word: "Ø±ÙÛŒØ¹", meaning: "Ø¨Ø§Ù„Ø§" },
            { word: "Ø¹Ø²Ù…", meaning: "Ù‚ØµØ¯" },
            { word: "ÙÙ„Ù‚", meaning: "Ø³Ù¾ÛŒØ¯Ù‡ ØµØ¨Ø­" },
            { word: "Ù†Ø¬Ø§Ø¨Øª", meaning: "Ø§ØµØ§Ù„Øª" },
            { word: "Ø§ÛŒØª", meaning: "Ù†Ø´Ø§Ù†Ù‡" },
            { word: "Ø®Ø°Ù„Ø§Ù†", meaning: "Ø®ÙˆØ§Ø±ÛŒ" },
            { word: "Ø±Ù…Ù‡", meaning: "Ú¯Ù„Ù‡" },
            { word: "Ø·Ø§Ù„Ø¹", meaning: "Ø³Ø±Ù†ÙˆØ´Øª" },
            { word: "Ù…Ø§Ø³ÙˆØ§", meaning: "Ù‡Ù…Ù‡ ØºÛŒØ± Ø§Ø² Ø®Ø¯Ø§" },
            { word: "Ù…Ø­Ù†Øª", meaning: "Ø§Ù†Ø¯ÙˆÙ‡" },
            { word: "Ø­Ù‚Ù‡", meaning: "Ø¬Ø¹Ø¨Ù‡" },
            { word: "Ø³ÙˆØ¯Ø§", meaning: "Ø§Ù†Ø¯ÛŒØ´Ù‡" },
            { word: "Ø¬Ø¨Ø§Ø±", meaning: "Ù…Ø³Ù„Ø·" },
            { word: "Ø¬ÙØ§", meaning: "Ø¨ÛŒ ÙˆÙØ§ÛŒÛŒ" },
            { word: "Ø·Ø±Ø¨", meaning: "Ø´Ø§Ø¯ÛŒ" },
            { word: "Ø¹Ø¯Ø§ÙˆØª", meaning: "Ø¯Ø´Ù…Ù†ÛŒ" },
            { word: "ØºÙÙ†Ø§", meaning: "Ø³Ø±ÙˆØ¯Ù‡" },
            { word: "ÙØ±Ù‚Øª", meaning: "Ø¬Ø¯Ø§ÛŒÛŒ" },
            { word: "Ú©Ø§ÛŒØ¯Ø§Ù†", meaning: "Ø­ÛŒÙ„Ù‡ Ú¯Ø±Ø§Ù†" },
            { word: "Ú©ÛŒØ¯", meaning: "Ø­ÛŒÙ„Ù‡" },
            { word: "Ù„Ø¦ÛŒÙ…ÛŒ", meaning: "Ù¾Ø³ØªÛŒ" },
            { word: "Ù†Ù‚Ø¶", meaning: "Ø´Ú©Ø³ØªÙ†" },
            { word: "ÙˆØµÙ„Øª", meaning: "Ù¾ÛŒÙˆÙ†Ø¯" },
            { word: "Ø§Ù‡Ù„ÛŒØª", meaning: "Ø´Ø§ÛŒØ³ØªÚ¯ÛŒ" },
            { word: "Ø§Ø¯ÛŒØ¨", meaning: "Ø³Ø®Ù† Ø¯Ø§Ù†" },
            { word: "Ø¯Ø±Ø­Ø§Ù„", meaning: "ÙÙˆØ±Ø§" },
            { word: "Ø¯ÛŒÙ†", meaning: "ÙˆØ§Ù…" },
            { word: "Ø±Ù‚Ø¹Ù‡", meaning: "Ù†Ø§Ù…Ù‡ Ú©ÙˆØªØ§Ù‡" },
            { word: "Ø´ÙˆØ®", meaning: "Ú†Ø±Ú©" },
            { word: "ØºÙˆÚ©", meaning: "Ù‚Ø±ÙˆØ¨Ø§ØºÙ‡" },
            { word: "ÙØ±Ø¬", meaning: "Ú¯Ø´Ø§ÛŒØ´" },
            { word: "Ù‚ÛŒØ§Ø³ Ú©Ø±Ø¯Ù†", meaning: "Ø³Ù†Ø¬ÛŒØ¯Ù†" },
            { word: "Ù‚ÛŒÙ…", meaning: "Ø³Ø±Ù¾Ø±Ø³Øª" },
            { word: "Ú©Ø±Ø§ÛŒ", meaning: "Ú©Ø±Ø§ÛŒÙ‡" },
            { word: "Ù…Ø±Ù…Øª", meaning: "Ø§ØµÙ„Ø§Ø­ Ú©Ø±Ø¯Ù†" },
            { word: "Ù…Ø±ÙˆØª", meaning: "Ø¬ÙˆØ§Ù†Ù…Ø±Ø¯ÛŒ" },
            { word: "Ù…Ú©Ø§Ø±ÛŒ", meaning: "Ú©Ø±Ø§ÛŒÙ‡ Ø¯Ù‡Ù†Ø¯Ù‡ Ø§Ø³Ø¨" },
            { word: "Ø§Ø®Ø±Ù‡", meaning: "Ú†Ù†Ø¨Ø±Ù‡ Ú¯Ø±Ø¯Ù†" },
            { word: "Ø¨ÛŒØºÙˆÙ„Ù‡", meaning: "Ú©Ù†Ø¬" },
            { word: "Ø®ÛŒÙ„", meaning: "Ú¯Ø±ÙˆÙ‡" },
            { word: "Ø±Ø¹Ù†Ø§", meaning: "Ø²ÛŒØ¨Ø§" },
            { word: "Ø±Ù†Ø¯Ø§Ù†Ù‡", meaning: "Ø²ÛŒØ±Ú©Ø§Ù†Ù‡" },
            { word: "ØºØ§Ø±Ø¨", meaning: "Ù…ÛŒØ§Ù† Ø¯Ùˆ Ú©ØªÙ" },
            { word: "Ú©Ù„Ù‡", meaning: "Ø¨Ø±Ø§Ù…Ø¯Ú¯ÛŒ Ù¾Ø´Øª Ø§Ø³Ø¨" },
            { word: "Ú¯Ø±ØªÙ‡ Ø²Ø¯Ù†", meaning: "Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø§ Ø®Ø§Ú©" },
            { word: "Ú¯Ø±Ø¯Ù‡", meaning: "Ø¨Ø§Ù„Ø§ÛŒ Ú©Ù…Ø±" },
            { word: "Ù…Ø±ÙÙ‡", meaning: "Ø±Ø§Ø­Øª" },
            { word: "Ù…Ø´ÙˆØ´", meaning: "Ø§Ø´ÙØªÙ‡" },
            { word: "ÙˆÙ‚Ø¨", meaning: "Ù‡Ø± ÙØ±ÙˆØ±ÙØªÚ¯ÛŒ" },
            { word: "Ø§Ø³ØªØ¯Ø¹Ø§", meaning: "Ø¯Ø±Ø®ÙˆØ§Ø³Øª" },
            { word: "Ø§Ø³ÙˆÙ‡", meaning: "Ù¾ÛŒØ´ÙˆØ§" },
            { word: "ØªØ¬Ù„ÛŒ", meaning: "Ø§Ø´Ú©Ø§Ø±" },
            { word: "Ø¬Ù†ÙˆØ¯", meaning: "Ø³Ø±Ø¨Ø§Ø²Ø§Ù†" },
            { word: "Ø®ÙˆØ±", meaning: "Ø²Ù…ÛŒÙ† Ù¾Ø³Øª" },
            { word: "Ø±Ø¹Ø¨", meaning: "ÙˆØ­Ø´Øª" },
            { word: "ØºÙÙ†Ø§", meaning: "ØªÙˆØ§Ù†Ú¯Ø±" },
            { word: "Ù†Ø³ÛŒØ§Ù†", meaning: "ÙØ±Ø§Ù…ÙˆØ´ÛŒ" },
            { word: "ÙˆØ³ÙˆØ§Ø³", meaning: "Ø¯ÙˆØ¯Ù„ÛŒ" },
            { word: "ØªÙ‚Ø±ÛŒØ¸", meaning: "Ù…Ø·Ù„Ø¨ÛŒ Ø³ØªØ§ÛŒØ´ÛŒ" },
            { word: "ØªÙˆØ³Ù†", meaning: "Ø§Ø³Ø¨ Ø³Ø±Ú©Ø´" },
            { word: "Ø®ØµÙ…", meaning: "Ø¯Ø´Ù…Ù†" },
            { word: "ÙˆÙ‚Ø§Ø­Øª", meaning: "Ø¨ÛŒ Ø´Ø±Ù…ÛŒ" },
            { word: "Ø¨Ø§Ø±Ú¯ÛŒ", meaning: "Ø§Ø³Ø¨" },
            { word: "ØªØ±Ú¯", meaning: "Ú©Ù„Ø§Ù‡Ø®ÙˆØ¯" },
            { word: "Ø¹Ù†Ø§Ù†", meaning: "Ø§ÙØ³Ø§Ø± Ø§Ø³Ø¨" },
            { word: "Ú©ÙˆØ³", meaning: "Ø·Ø¨Ù„" },
            { word: "Ú¯Ø¨Ø±", meaning: "Ù†ÙˆØ¹ÛŒ Ù„Ø¨Ø§Ø³ Ø¬Ù†Ú¯" },
            { word: "Ù…Ø²ÛŒØ­", meaning: "Ø´ÙˆØ®ÛŒ" },
            { word: "Ø¨Ø§Ø±Ù‡", meaning: "Ù‚Ù„Ø¹Ù‡" },
            { word: "Ø¨Ø±Ø¯Ù…ÛŒØ¯Ù†", meaning: "Ø®Ø±ÙˆØ´ÛŒØ¯Ù†" },
            { word: "Ù¾Ø¯Ø±Ø§Ù…", meaning: "Ø³Ø¨Ø²ÙˆØ®Ø±Ù…" },
            { word: "Ø¨Ø±Ú¯Ø§Ø´ØªÙ†", meaning: "Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†ÛŒØ¯Ù†" },
            { word: "ØªØ§Ø¨", meaning: "Ú†Ø±Ø® Ùˆ Ù¾ÛŒÚ†" },
            { word: "Ø®Ø·Ù‡", meaning: "Ø³Ø±Ø²Ù…ÛŒÙ†" },
            { word: "Ø®ÛŒØ±Ù‡", meaning: "Ù…ØªØ­ÛŒØ±" },
            { word: "Ø¯Ø±Ø¹", meaning: "Ø¬Ø§Ù…Ù‡ Ø¬Ù†Ú¯ÛŒ" },
            { word: "Ø¯Ù…Ø§Ù†", meaning: "Ø®Ø±ÙˆØ´Ù†Ø¯Ù‡" },
            { word: "Ø¯ÙˆØ¯Ù‡", meaning: "Ø®Ø§Ù†Ø¯Ø§Ù†" },
            { word: "Ø³Ù†Ø§Ù†", meaning: "Ø³Ø±Ù†ÛŒØ²Ù‡" },
            { word: "Ø´ÛŒØ±Ø§ÙˆÚ˜Ù†", meaning: "Ø´ÛŒØ±Ø§ÙÚ©Ù†" },
            { word: "ÙØªØ±Ø§Ú©", meaning: "ØªØ±Ú©Ø¨Ù†Ø¯" },
            { word: "Ù‡Ú˜ÛŒØ±", meaning: "Ú†Ø§Ø¨Ú©" },
            { word: "ÙÙˆØ¬", meaning: "Ú¯Ø±ÙˆÙ‡" },
            { word: "ÙˆÛŒÙ„Ù‡", meaning: "Ù†Ø§Ù„Ù‡" },
            { word: "Ø§Ø´Ø¨Ø§Ù‡", meaning: "Ù…Ø§Ù†Ù†Ø¯Ù‡Ø§" },
            { word: "ØªÙ„Ø·Ù", meaning: "Ù…Ù‡Ø±Ø¨Ø§Ù†ÛŒ" },
            { word: "Ø¬ÙˆÙ„Ù‚ÛŒ", meaning: "Ø¯Ø±ÙˆÛŒØ´ÛŒ" },
            { word: "Ø­Ø§Ø°Ù‚", meaning: "Ù…Ø§Ù‡Ø±" },
            { word: "Ø²Ø¨ÙˆÙ†", meaning: "Ø®ÙˆØ§Ø±" },
            { word: "Ø³Ø±Ú¯ÛŒÙ†", meaning: "ÙØ¶Ù„Ù‡" },
            { word: "Ø·Ø§Ø³", meaning: "Ú©Ø§Ø³Ù‡ Ù…Ø³ÛŒ" },
            { word: "Ù‚Ù‡Ø±", meaning: "Ø®Ø´Ù…" },
            { word: "Ø§Ø±ØªØ¬Ø§Ù„Ø§", meaning: "Ø¨ÛŒ Ø¯Ø±Ù†Ú¯" },
            { word: "Ø§Ø³ØªØ±Ø­Ø§Ù…", meaning: "Ø±Ø­Ù… Ø®ÙˆØ§Ø³ØªÙ…" },
            { word: "Ø§Ø³ØªÙ…Ø§Ø¹", meaning: "Ø´Ù†ÛŒØ¯Ù†" },
            { word: "Ø§ÙˆØ§Ù†", meaning: "ÙˆÙ‚Øª" },
            { word: "Ø¨Ø§Ø±ÛŒ", meaning: "Ø®Ù„Ø§ØµÙ‡" },
            { word: "Ø¨Ø¯Ø³Ú¯Ø§Ù„", meaning: "Ø¨Ø¯Ø§Ù†Ø¯ÛŒØ´" },
            { word: "ØªÙ‚Ø±ÛŒØ±", meaning: "Ø¨ÛŒØ§Ù†" },
            { word: "ØªÚ©ÛŒØ¯Ù‡", meaning: "Ù„Ø§ØºØ±" },
            { word: "Ø¹Ù†ÙˆØ¯", meaning: "Ø³ØªÛŒØ²Ù‡ Ú©Ø§Ø±ÛŒ" },
            { word: "ÙÛŒØ§Ø¶", meaning: "Ø¨Ø³ÛŒØ§Ø± Ø¨Ø®Ø´Ù†Ø¯Ù‡" }, // ÙÛŒØ§Ø¶ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯: Ø§Ø² "Ø³Ø±Ù†ÙˆØ´Øª" Ø¨Ù‡ "Ø¨Ø³ÛŒØ§Ø± Ø¨Ø®Ø´Ù†Ø¯Ù‡"
            { word: "Ù„Ø§Ø¬Ø±Ù…", meaning: "Ù†Ø§Ú¯Ø²ÛŒØ±" },
            { word: "Ù…Ø§Ù„ÙˆÙ", meaning: "Ø®ÙˆÚ¯Ø±ÙØªÙ‡" },
            { word: "Ù…Ø®Ø°ÙˆÙ„", meaning: "Ø®ÙˆØ§Ø±" },
            { word: "Ù…Ø³Ú©Ø±", meaning: "Ù…Ø³ØªÛŒ Ø§ÙˆØ±" },
            { word: "Ù…ØºÙ„ÙˆØ¨", meaning: "Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯Ù‡" },
            { word: "Ù…Ù†Ø¯Ø±Ø³", meaning: "Ú©Ù‡Ù†Ù‡" },
            { word: "Ù…Ù†Ú©Ø±", meaning: "Ø±ÙØªØ§Ø± Ø²Ø´Øª" },
            { word: "Ù„Ú¯Ø§Ù…", meaning: "Ø§ÙØ³Ø± Ø§Ø³Ø¨" },
            { word: "Ú†Ù†Ø¨Ø±", meaning: "Ø¯Ø§ÛŒØ±Ù‡" },
            { word: "Ù…Ø§Ø¦Ø¯Ù‡", meaning: "Ù†Ø¹Ù…Øª" }
        ];

        let availableWords = [];
        let learnedWords = [];
        let currentQuestion = null;
        let selectedWordForQuestion = null;

        const progressBar = document.getElementById('progress');
        let totalInitialWords = 0; // ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ú©Ù„Ù…Ø§Øª Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ Ù‡Ø± Ø¯ÙˆØ± (ØºÛŒØ± Ø§Ø² ÛŒØ§Ø¯Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡â€ŒÙ‡Ø§)

        function updateProgressBar() {
            if (totalInitialWords === 0) { // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ØªÙ‚Ø³ÛŒÙ… Ø¨Ø± ØµÙØ± Ø¯Ø± Ø´Ø±ÙˆØ¹ ÛŒØ§ ÙˆÙ‚ØªÛŒ Ù‡Ù…Ù‡ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ Ø§Ù†Ø¯
                progressBar.style.width = '100%';
                progressBar.innerText = 'Û±Û°Û°Ùª (Ù‡Ù…Ù‡ Ù„ØºØ§Øª ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯!)';
                return;
            }
            const answeredInThisRound = totalInitialWords - availableWords.length;
            const progressPercentage = (answeredInThisRound / totalInitialWords) * 100;

            progressBar.style.width = `${progressPercentage}%`;
            progressBar.innerText = `${Math.round(progressPercentage)}%`;

            if (availableWords.length === 0) {
                 progressBar.style.width = '100%';
                 progressBar.innerText = 'Û±Û°Û°Ùª (Ø¯ÙˆØ± ÙØ¹Ù„ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!)';
            }
        }

        function initializeQuiz() {
            learnedWords = JSON.parse(localStorage.getItem('learnedWords')) || [];
            availableWords = originalData.filter(item => !learnedWords.some(learned => learned.word === item.word && learned.meaning === item.meaning));
            totalInitialWords = availableWords.length; // ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± ÙØ¹Ù„ÛŒ
            shuffleArray(availableWords);
            loadNewQuestion();
            document.getElementById('restart-button').style.display = 'none';
            updateProgressBar();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadNewQuestion() {
            if (availableWords.length === 0) {
                document.getElementById('question-text').innerText = "ØªØ¨Ø±ÛŒÚ©! ØªÙ…Ø§Ù… Ù„ØºØ§Øª Ø§ÛŒÙ† Ø¯ÙˆØ± Ø±Ø§ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÛŒØ¯ ÛŒØ§ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯ÛŒØ¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ù„ØºØ§Øª Ø¬Ø¯ÛŒØ¯ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒØ¯.";
                document.getElementById('options-container').innerHTML = '';
                document.getElementById('feedback').innerText = '';
                document.getElementById('next-button').style.display = 'none';
                document.getElementById('learned-button').style.display = 'none';
                document.getElementById('restart-button').style.display = 'block';
                updateProgressBar();
                return;
            }

            document.getElementById('feedback').innerText = '';
            document.getElementById('next-button').style.display = 'none';
            document.getElementById('learned-button').style.display = 'none';
            document.getElementById('options-container').innerHTML = '';

            shuffleArray(availableWords);
            selectedWordForQuestion = availableWords[0];

            document.getElementById('question-text').innerText = `${selectedWordForQuestion.word}: Ù…Ø¹Ù†ÛŒ Ú†ÛŒØ³ØªØŸ`;

            let correctMeaning = selectedWordForQuestion.meaning;
            let options = [correctMeaning];

            let incorrectOptionsPool = originalData.filter(item => item.meaning !== correctMeaning);
            shuffleArray(incorrectOptionsPool);

            for (let i = 0; options.length < 4 && i < incorrectOptionsPool.length; i++) {
                // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¹Ø¯Ù… ØªÚ©Ø±Ø§Ø± Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø² Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú©Ù„Ù…Ø§Øª Ú©Ø§Ù…Ù„
                if (!options.includes(incorrectOptionsPool[i].meaning)) {
                    options.push(incorrectOptionsPool[i].meaning);
                }
            }

            // Ø§Ú¯Ø± Ø¨Ù‡ Ù‡Ø± Ø¯Ù„ÛŒÙ„ÛŒ Ú©Ù…ØªØ± Ø§Ø² Û´ Ú¯Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø´ØªÛŒÙ…ØŒ Ø¨Ø§ Ù…Ø¹Ø§Ù†ÛŒ ØªØµØ§Ø¯ÙÛŒ Ù¾Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            while (options.length < 4) {
                 const randomMeaning = originalData[Math.floor(Math.random() * originalData.length)].meaning;
                 if (!options.includes(randomMeaning)) {
                     options.push(randomMeaning);
                 }
            }


            shuffleArray(options);

            const optionsContainer = document.getElementById('options-container');
            options.forEach(option => {
                const button = document.createElement('button');
                button.innerText = option;
                button.onclick = () => checkAnswer(option, correctMeaning, button);
                optionsContainer.appendChild(button);
            });
            updateProgressBar();
        }

        function checkAnswer(selectedOption, correctOption, button) {
            const feedbackElement = document.getElementById('feedback');
            const allButtons = document.querySelectorAll('#options-container button');

            allButtons.forEach(btn => {
                btn.disabled = true;
                if (btn.innerText === correctOption) {
                    btn.classList.add('correct');
                }
            });

            if (selectedOption === correctOption) {
                feedbackElement.innerText = 'Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ Ø§Ø³Øª! ğŸ‰';
                feedbackElement.style.color = '#28a745';
                button.classList.add('correct');
                document.getElementById('learned-button').style.display = 'block';
            } else {
                feedbackElement.innerText = `Ù¾Ø§Ø³Ø® Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª. Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: ${correctOption}`;
                feedbackElement.style.color = '#dc3545';
                button.classList.add('incorrect');
                document.getElementById('learned-button').style.display = 'none';
            }
            document.getElementById('next-button').style.display = 'block';
            updateProgressBar();
        }

        function markAsLearned() {
            if (selectedWordForQuestion) {
                // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ú©Ù„Ù…Ù‡ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¯Ø± learnedWords Ø§Ø¶Ø§ÙÙ‡ Ù†Ø´ÙˆØ¯
                if (!learnedWords.some(lw => lw.word === selectedWordForQuestion.word && lw.meaning === selectedWordForQuestion.meaning)) {
                    learnedWords.push(selectedWordForQuestion);
                    localStorage.setItem('learnedWords', JSON.stringify(learnedWords)); // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
                }
                availableWords = availableWords.filter(item => item !== selectedWordForQuestion);
                selectedWordForQuestion = null;
                loadNewQuestion();
            }
        }

        function restartQuiz() {
            learnedWords = []; // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
            localStorage.removeItem('learnedWords'); // Ø­Ø°Ù Ø§Ø² localStorage
            initializeQuiz(); // Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ú©Ø§Ù…Ù„
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ø³ÙˆØ§Ù„ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø² Ø´Ø¯Ù† ØµÙØ­Ù‡
        window.onload = initializeQuiz;
    </script>
</body>
</html>